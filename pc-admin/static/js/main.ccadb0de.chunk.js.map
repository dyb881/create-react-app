{"version":3,"sources":["common/routers.tsx","configs/routers.ts","pages/admin/account/index.tsx","pages/admin/role/index.tsx","pages/admin/account/info_modal.tsx","components/content/style.module.less","common/request.ts","images/logo.ico","pages/admin/account/info.tsx","common/antd/form/form.tsx","common/antd/form/form_item.tsx","common/antd/input.tsx","common/antd/select.tsx","common/antd/radio.tsx","common/antd/menu.tsx","common/antd/breadcrumb.tsx","common/antd/index.ts","stores/view.ts","stores/user.ts","common/stores.tsx","stores/index.ts","components/content/pageForm/style.module.less","components/layout/menu_nav.tsx","components/layout/header.tsx","components/layout/sider.tsx","components/layout/layout.tsx","components/content/pageTable/components.tsx","components/content/router_component.tsx","components/content/page.tsx","components/content/pageTable/virtual_table.tsx","components/content/pageTable/page_table.tsx","components/content/pageTable/use_table.ts","components/content/pageForm/components.tsx","components/content/pageForm/page_form.tsx","components/content/pageForm/use_info.ts","components/index.ts","components/layout/style.module.less","configs/public.ts","configs/request.ts","configs/menuNavData.tsx","configs/index.ts","common/index.ts","pages sync /^/.//.*$","App.tsx","serviceWorker.ts","index.tsx","pages/admin/account/config.tsx","common/tool.ts","apis/index.ts","components/content/pageTable/style.module.less"],"names":["routers","type","listen","routersProps","routersConfig","forEach","to","path","component","require","default","match","pathname","router","matchPath","exact","createMatch","history","createHashHistory","createBrowserHistory","location","Router","props","Pages","createRouters","routersOptions","defaultTitle","getMenuNavDataRouters","menuNavData","title","stores","view","setTitle","useTable","a","async","setLoading","current","states","pageSize","search","admin","account","getList","pageNum","res","ok","setStates","dataSource","data","list","total","pageTableProps","formSearchProps","useInfo","modalForm","add","edit","columns","useMemo","createColumns","widthAddition","extra","onClick","label","name","placeholder","useInfoModal","defaultData","state","onFinish","values","isEdit","id","success","hide","formModalProps","funs","before","select","options","role","regip","loginip","regtime","logintime","module","exports","interceptorsRequest","requestConfig","interceptorsResponse","config","FetchReques","log","request","errorText","responseType","code","statusCodeKeys","reduce","key","undefined","successCodes","includes","error","messageKeys","msg","response","get","baseURL","post","put","patch","del","upload","combinePage","params","getData","details","setData","goBack","pageFormProps","Form","layout","wrapperCol","labelCol","formProps","Object","assign","useForm","form","submit","reset","useCallback","resetFields","resetSubmit","FormItem","hidden","validator","required","children","rules","valuePropName","formItemProps","text","push","message","_rule","value","space","test","Promise","reject","Item","React","isValidElement","cloneElement","Input","maxLength","autoComplete","InputNumber","step","precision","selectFilterOption","input","option","toLowerCase","Select","selectOption","toOptions","map","i","Option","JSON","stringify","allowClear","filterOption","Radio","radioGroupOptions","Group","RadioButton","radioButtons","k","Button","Menu","onClickItem","inlineCollapsed","openKeys","onOpenChange","menuTree","computeProps","param","item","prefix","icon","menuItemTitle","length","SubMenu","data-info","Breadcrumb","breadcrumbItems","itemProps","View","tableDatas","setTableData","getTableData","this","resize","window","addEventListener","action","w","innerWidth","isMobile","collapsed","observable","jsonParse","localStorage","componentSize","theme","hiddenMenu","hiddenHeader","menuIconTop","headerIconRight","pageConfig","document","User","bind","isLogin","when","configure","enforceActions","computedRequiresReaction","user","onLogin","combine","Component","Observer","observer","MenuNav","reload","useHistory","useLocation","useStates","selectedKeys","menuNavDataHidden","useEffect","selectedKey","getOpenKeys","isSelect","filter","slice","split","Header","useState","showHeader","setShowHeader","visible","setVisible","setPageConfig","onShow","onClose","onShowHeader","onValuesChange","changeValue","keys","className","classNames","style","header","left","src","alt","logo","MenuSwitch","UserOutlined","size","userName","placement","Fullscreen","SettingOutlined","initialValues","buttonStyle","componentSizeOptions","themeOptions","min","right","MobileOutlined","dark","light","Interval","interval","siderOnChange","MenuUnfoldOutlined","MenuFoldOutlined","forwardRef","ref","getElement","documentElement","isFullscreen","setIsFullscreen","s","screenfull","isEnabled","exit","content","FullscreenExitOutlined","FullscreenOutlined","Sider","isCollapsed","sider","mode","menuIcon","top","moment","locale","timeout","Content","LayoutBox","setKey","body","setAttribute","zh_CN","RouterTitle","after","getMenuNavDataTitle","menuNavDatatitle","RouterBreadcrumb","datas","getMenuNavDatas","menuNavDatas","childrenMenuNavDatas","RouterPageHeader","onBack","PageBox","loading","configProviderProps","box","useRef","getPopupContainer","page","target","spinning","tip","Page","FormMobile","FormItemMobile","ButtonMobile","shape","VirtualTable","tableWidth","gridRef","scroll","x","y","resetAfterIndices","rowIndex","columnIndex","shouldForceUpdate","mergedColumns","laveWidth","width","Math","floor","fixed","column","scale","obj","defineProperty","set","scrollLeft","scrollTo","connectObject","rowSelection","components","rawData","onScroll","height","rowCount","columnCount","rowHeight","rowHeights","columnWidth","index","dataIndex","render","padding","columnPadding","styles","virtualColumn","large","middle","small","FormSearch","buttons","formRef","useImperativeHandle","formSearch","SearchOutlined","htmlType","UndoOutlined","TableMobile","clearTimeout","firstElementChild","offsetTop","nextElementSibling","clientHeight","setTimeout","innerHeight","getElementsByTagName","thead","resizeDebounce","removeEventListener","toScrollX","tableProps","rowKey","pagination","PaginationMobile","onChange","simple","showQuickJumper","showSizeChanger","pageSizeOptions","showTotal","onShowSizeChange","ColumnsSetting","isAll","clear","columnsSetting","checked","indeterminate","indexOf","splice","trigger","Action","Children","child","v","sum","PageTable","paginationProps","jsonStringify","columnsSettingProps","columnsHides","useColumnsSetting","PlusOutlined","marginLeft","ReloadOutlined","defaultStates","tableDataKey","selectedRowKeys","setFieldsValue","autorun","useList","paginationOnChange","rowSelectionOnChange","FormLayout","maxWidth","cols","formLayout","span","FormModal","onOk","onCancel","confirmLoading","modalProps","forceRender","maskClosable","okText","okButtonProps","SaveOutlined","PageForm","offset","onFinishFailed","errorInfo","scrollToField","errorFields","isProduction","protocol","qs","parse","host","apiPath","_config","TeamOutlined","UnorderedListOutlined","FolderFilled","webpackContext","req","webpackContextResolve","__webpack_require__","o","e","Error","resolve","process","Boolean","hostname","ReactDOM","getElementById","navigator","serviceWorker","ready","then","registration","unregister","renders","status","isArray","Array","useReducer","newStates"],"mappings":"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","file":"static/js/main.ccadb0de.chunk.js","sourcesContent":["import React from 'react';\nimport { matchPath, HashRouter, HashRouterProps, BrowserRouter, BrowserRouterProps } from 'react-router-dom';\nimport { createHashHistory, createBrowserHistory } from 'history';\nimport { routers, routersOptions } from 'configs/routers';\nimport Routers from '@dyb881/router';\nimport '@dyb881/router/lib/style.css';\n\n/**\n * 单个路由属性\n */\nexport type TRouter = {\n  to: string; // 路由地址\n  path?: string; // 绑定组件路径，默认为 /src/pages 下的文件或文件夹\n  component?: React.ComponentType<any>; // 绑定组件，优先度低于 path\n  [key: string]: any;\n};\n\n/**\n * 路由配置数组\n */\nexport type TRouters = TRouter[];\n\n/**\n * 路由选项\n */\nexport type TRoutersOptions = {\n  app?: boolean; // 是否打包成APP，既启用app模拟跳转\n  transition?: boolean; // 开启跳转动画\n  type: 'hash' | 'browser'; // 路由类型\n  listen?: (router: TRouter) => void; // 路由监听\n};\n\n/**\n * 匹配路由响应监听\n */\nconst createMatch = (routers: TRouters) => (pathname: string, listen: TRoutersOptions['listen']) => {\n  if(!listen) return;\n\n  for (const router of routers) {\n    if (matchPath(pathname, { path: router.to, exact: true })) {\n      // 匹配并响应对应路由配置\n      listen(router);\n      break;\n    }\n  }\n};\n\n/**\n * 路由配置生成组件配置\n */\nconst createRouters = (routers: TRouters, { type, listen, ...routersProps }: TRoutersOptions) => {\n  // 路由组件配置\n  const routersConfig: { [key: string]: React.ComponentType<any> } = {};\n\n  // 引用页面并写入路由\n  routers.forEach(({ to, path, component }) => {\n    if (path) routersConfig[to] = require('pages/' + path).default;\n    else if (component) routersConfig[to] = component;\n  });\n\n  // 创建比较方法\n  const match = createMatch(routers);\n  // 创建路由\n  const history = type === 'hash' ? createHashHistory() : createBrowserHistory();\n\n  // 初次匹配\n  match(history.location.pathname, listen);\n\n  // 监听地址变动\n  history.listen(({ pathname }) => {\n    match(pathname, listen);\n  });\n\n  /**\n   * 路由注入\n   */\n  const Router: React.FC<HashRouterProps & BrowserRouterProps> = props =>\n    type === 'hash' ? <HashRouter {...props} /> : <BrowserRouter {...props} />;\n\n  /**\n   * 路由页面集合\n   */\n  const Pages: React.FC = () => <Routers routers={routersConfig} {...routersProps} />;\n\n  return { Router, Pages };\n};\n\n/**\n * 路由配置生成\n */\nexport const { Router, Pages } = createRouters(routers, routersOptions);\n","import { TRouters, TRoutersOptions, stores } from 'common';\nimport { getMenuNavDataRouters } from 'components';\nimport { menuNavData } from 'configs';\n\n/**\n * 默认标题\n */\nexport const defaultTitle = 'RA Admin';\n\n/**\n * 路由地址配置\n * 绑定组件路径 path，默认为 /src/pages 下的文件或文件夹\n */\nexport const routers: TRouters = [...getMenuNavDataRouters(menuNavData)];\n\n/**\n * 路由选项配置\n */\nexport const routersOptions: TRoutersOptions = {\n  type: 'hash',\n  listen: ({ title }) => {\n    stores.view.setTitle(title ? `${title} - ${defaultTitle}` : defaultTitle);\n  },\n};\n","import React, { useMemo } from 'react';\nimport { Button } from 'antd';\nimport { FormItem } from 'common';\nimport { useTable, PageTable, FormSearch } from 'components';\nimport { admin } from 'apis';\nimport { createColumns } from './config';\nimport { useInfo } from './info_modal';\n\nexport default () => {\n  const { states, setStates, setLoading, pageTableProps, formSearchProps } = useTable(async () => {\n    setLoading('请求列表');\n    const { current, pageSize, search } = states;\n    // --------------------------- 请求前处理搜索值 --------------------------- //\n    // search 建议展开避免副作用\n    // --------------------------- 请求前处理搜索值 --------------------------- //\n    const res = await admin.account.getList({ pageNum: current, pageSize, ...search });\n    res.ok && setStates({ dataSource: res.data.list, total: res.data.total });\n    setLoading(false);\n  });\n\n  // 弹窗表单\n  const { modalForm, add, edit } = useInfo();\n\n  // 生成表格配置数据\n  const columns = useMemo(() => createColumns(edit), []);\n\n  return (\n    <PageTable\n      {...pageTableProps}\n      columns={columns}\n      widthAddition={0}\n      add=\"/admin/account/info\"\n      extra={<Button onClick={add}>弹窗添加</Button>}\n    >\n      <FormSearch {...formSearchProps}>\n        <FormItem label=\"用户名\" name=\"username\" placeholder />\n        <FormItem label=\"昵称\" name=\"nickname\" placeholder />\n      </FormSearch>\n      {modalForm}\n    </PageTable>\n  );\n};\n","import React from 'react';\nimport { Link } from 'react-router-dom';\n\nexport default () => {\n  return (\n    <div>\n      account <Link to=\"/admin/account\">go account</Link>\n    </div>\n  );\n};\n","import React from 'react';\nimport { message } from 'antd';\nimport { FormItem, Select, Radio } from 'common';\nimport { RouterTitle, FormModal, useInfoModal } from 'components';\nimport { options } from './config';\nimport { admin } from 'apis';\n\nexport const useInfo = () => {\n  const { formModalProps, data, isEdit, setLoading, hide, ...funs } = useInfoModal({\n    defaultData: { state: 0 },\n    onFinish: async (values: any) => {\n      setLoading(true);\n      // --------------------------- 请求前处理提交数据 --------------------------- //\n      // values 建议展开避免副作用\n      // --------------------------- 请求前处理提交数据 --------------------------- //\n      if (isEdit) values.id = data.id; // 编辑时需要带入 ID\n      const res = await admin.account[data ? 'edit' : 'add'](values);\n      if (!res.ok) return setLoading(false);\n      message.success(`${isEdit ? '编辑' : '新建'}成功`);\n      hide();\n    },\n  });\n\n  const modalForm = (\n    <FormModal title={<RouterTitle before={isEdit ? '编辑' : '新建'} />} {...formModalProps}>\n      <FormItem label=\"用户名\" name=\"username\" placeholder />\n      <FormItem label=\"昵称\" name=\"nickname\" placeholder />\n      <FormItem label=\"角色\" name=\"role\" placeholder select>\n        <Select options={options.role} />\n      </FormItem>\n      {isEdit && (\n        <>\n          <FormItem label=\"注册IP\">{data.regip}</FormItem>\n          <FormItem label=\"登陆IP\">{data.loginip}</FormItem>\n          <FormItem label=\"注册时间\">{data.regtime}</FormItem>\n          <FormItem label=\"登陆时间\">{data.logintime}</FormItem>\n        </>\n      )}\n      <FormItem label=\"状态\" name=\"state\">\n        <Radio options={options.state} />\n      </FormItem>\n    </FormModal>\n  );\n\n  return { modalForm, ...funs };\n};\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"page\":\"page--2bybz\",\"large\":\"large--3F7uY\",\"small\":\"small--PWKzu\"};","import FetchReques, { log } from '@dyb881/fetch-request';\nimport { requestConfig, statusCodeKeys, successCodes, messageKeys } from 'configs';\n\nconst { interceptorsRequest, interceptorsResponse, ...config } = requestConfig;\n\n/**\n * 请求模块初始化并输出请求方法以及参数\n */\nexport const { baseURL, get, post, put, patch, del, upload } = new FetchReques({\n  ...config,\n  interceptorsRequest: config => {\n    if (interceptorsRequest) config = interceptorsRequest(config);\n    log.request(config);\n    return config;\n  },\n  interceptorsResponse: (res, config) => {\n    if (!res.errorText && config.responseType === 'json') {\n      // 获取匹配的 code\n      const code = statusCodeKeys.reduce((code, key) => res[key] ?? code, undefined);\n      // 当 code 匹配成功状态码失败，既是请求失败\n      if (!successCodes.includes(code!)) {\n        res.error = code;\n        // 获取错误提示信息\n        res.errorText = messageKeys.reduce((msg, key) => res[key] || msg, '请求异常');\n      }\n    }\n    res.ok = !res.errorText; // 请求结果状态 成功/失败\n    if (interceptorsResponse) res = interceptorsResponse(res, config);\n    log.response(res, config, res.ok);\n    return res;\n  },\n});\n","module.exports = __webpack_public_path__ + \"static/media/logo.c92b85a5.ico\";","import React from 'react';\nimport { message } from 'antd';\nimport { FormItem, Select, Radio, combinePage } from 'common';\nimport { PageForm, useInfo } from 'components';\nimport { options } from './config';\nimport { admin } from 'apis';\n\ntype TParams = { id?: string };\n\nexport default combinePage<TParams>(({ history, match }) => {\n  const { id } = match.params;\n  const { data, setData, setLoading, pageFormProps } = useInfo({\n    defaultData: { state: 0 },\n    getData: async () => {\n      if (!id) return;\n      setLoading('请求数据');\n      const res = await admin.account.details(id);\n      res.ok && setData(res.data);\n      setLoading(false);\n    },\n    onFinish: async (values: any) => {\n      setLoading('正在保存');\n      // --------------------------- 请求前处理提交数据 --------------------------- //\n      // values 建议展开避免副作用\n      // --------------------------- 请求前处理提交数据 --------------------------- //\n      if (id) values.id = id; // 编辑时需要带入 ID\n      const res = await admin.account[id ? 'edit' : 'add'](values);\n      if (!res.ok) return setLoading(false);\n      message.success(`${id ? '编辑' : '新建'}成功`);\n      history.goBack();\n    },\n  });\n\n  return (\n    <PageForm {...pageFormProps}>\n      <FormItem label=\"用户名\" name=\"username\" placeholder />\n      <FormItem label=\"昵称\" name=\"nickname\" placeholder />\n      <FormItem label=\"角色\" name=\"role\" placeholder select>\n        <Select options={options.role} />\n      </FormItem>\n      {!id || (\n        <>\n          <FormItem label=\"注册IP\">{data.regip}</FormItem>\n          <FormItem label=\"登陆IP\">{data.loginip}</FormItem>\n          <FormItem label=\"注册时间\">{data.regtime}</FormItem>\n          <FormItem label=\"登陆时间\">{data.logintime}</FormItem>\n        </>\n      )}\n      <FormItem label=\"状态\" name=\"state\">\n        <Radio options={options.state} />\n      </FormItem>\n    </PageForm>\n  );\n});\n","import React, { useCallback } from 'react';\nimport { Form as FormSource } from 'antd';\nimport { FormProps, FormInstance } from 'antd/es/form';\n\n/**\n * 表单组件\n */\nexport const Form: React.FC<FormProps> = ({ layout, wrapperCol, labelCol, ...props }) => {\n  const formProps: FormProps = { layout };\n  if (layout === 'horizontal') Object.assign(formProps, { wrapperCol, labelCol });\n  return <FormSource {...formProps} {...props} />;\n};\n\nexport type TForm = {\n  form: FormInstance;\n  submit: FormInstance['submit'];\n  reset(): void;\n  resetSubmit(): void;\n};\n\n/**\n * 表单 hooks\n */\nexport const useForm = () => {\n  const [form] = FormSource.useForm();\n  const { submit } = form;\n\n  /**\n   * 重置清空表单\n   */\n  const reset = useCallback(() => {\n    form.resetFields();\n  }, []);\n\n  /**\n   * 重置清空表单，并提交表单\n   */\n  const resetSubmit = useCallback(() => {\n    reset();\n    submit();\n  }, []);\n\n  return { form, submit, reset, resetSubmit };\n};\n","import React from 'react';\nimport { Form } from 'antd';\nimport { Input } from 'common';\nimport { FormItemProps } from 'antd/es/form/FormItem';\n\nexport type TFormItemProps = Partial<\n  Pick<FormItemProps, 'label' | 'name' | 'rules' | 'valuePropName' | 'labelCol' | 'wrapperCol' | 'children'>\n> & {\n  hidden?: boolean; // 隐藏表单项\n  validator?: (value: any) => string | undefined | Promise<string | undefined>; // 额外验证器\n  select?: boolean; // 是否选择器\n  required?: boolean | string; // 是否必填\n  placeholder?: boolean | string | string[]; // 占位符\n  formItemProps?: Partial<FormItemProps>;\n  [key: string]: any;\n};\n\nexport const FormItem: React.FC<TFormItemProps> = ({\n  hidden,\n  validator,\n  select,\n  required,\n  placeholder,\n  label,\n  name,\n  children,\n  rules = [],\n  valuePropName,\n  labelCol,\n  wrapperCol,\n  formItemProps,\n  ...props\n}) => {\n  // 隐藏表单项\n  if (hidden) return null;\n\n  if (name) {\n    if (!children) children = <Input />;\n\n    // 默认提示语\n    let text = select ? '请选择' : '请输入';\n    // 接入label，如 label:用户名 = 请输入用户名\n    if (typeof label === 'string') text += label;\n\n    // 加入必填提示\n    if (required) {\n      rules.push({\n        required: true,\n        message: required !== true ? required : typeof placeholder === 'string' ? placeholder : text,\n      });\n    }\n\n    // 写入默认占位符\n    if (placeholder) {\n      props.placeholder = placeholder !== true ? placeholder : typeof required === 'string' ? required : text;\n    }\n\n    // 追加验证器\n    rules.push({\n      validator: async (_rule, value) => {\n        let msg;\n        // 不可提交空格\n        if (value && typeof value === 'string' && !space.test(value)) {\n          msg = `${typeof label === 'string' ? label : '输入框'}不可提交空格`;\n        }\n        // 自定义验证器\n        if (!msg && validator) msg = await validator(value);\n\n        msg && (await Promise.reject(msg));\n      },\n    });\n  }\n\n  return (\n    <Form.Item {...{ label, name, rules, valuePropName, labelCol, wrapperCol }} {...formItemProps}>\n      {React.isValidElement(children) ? React.cloneElement(children, props) : children!}\n    </Form.Item>\n  );\n};\n\n/**\n * 非全空格，即字符串内包含非空格的时候不匹配，一般用于 !space.test('  ') === true 判断字符串是否都是空格\n */\nconst space = /^[\\s\\S]*.*[^\\s][\\s\\S]*$/;\n","import React, { useMemo } from 'react';\nimport { Input as InputSource, InputNumber as InputNumberSource, AutoComplete as AutoCompleteSource } from 'antd';\nimport { InputProps, TextAreaProps, SearchProps } from 'antd/es/input';\nimport { InputNumberProps } from 'antd/es/input-number';\nimport { AutoCompleteProps } from 'antd/es/auto-complete';\n\n/**\n * 默认文本框最大长度\n */\nexport const maxLength = 256;\n\n/**\n * 文本框\n */\nexport const Input: React.FC<InputProps> = props => <InputSource maxLength={maxLength} autoComplete=\"off\" {...props} />;\n\n/**\n * 大文本框\n */\nexport const TextArea: React.FC<TextAreaProps> = props => (\n  <InputSource.TextArea maxLength={maxLength} rows={3} {...props} />\n);\n\n/**\n * 密码输入框\n */\nexport const Password: React.FC<InputProps> = props => (\n  <InputSource.Password maxLength={maxLength} autoComplete=\"current-password\" {...props} />\n);\n\n/**\n * 搜索框\n */\nexport const Search: React.FC<SearchProps> = props => <InputSource.Search maxLength={maxLength} {...props} />;\n\n/**\n * 数字文本框\n */\nexport const InputNumber: React.FC<InputNumberProps> = props => <InputNumberSource step={1} precision={0} {...props} />;\n\nexport type TAutoCompleteProps = Omit<AutoCompleteProps, 'options'> & {\n  options?: string[];\n};\n\n/**\n * 自动完成下拉框过滤器\n */\nexport const autoCompleteFilterOption: AutoCompleteProps['filterOption'] = (input, option) => {\n  return !!option && typeof option.value === 'string' && option.value.toLowerCase().includes(input.toLowerCase());\n};\n\n/**\n * 自动完成\n */\nexport const AutoComplete: React.FC<TAutoCompleteProps> = ({ options = [], ...props }) => {\n  const autoCompleteOptions = useMemo(() => options.map(value => ({ value })), [JSON.stringify(options)]);\n\n  return <AutoCompleteSource filterOption={autoCompleteFilterOption} options={autoCompleteOptions} {...props} />;\n};\n","import React, { useMemo } from 'react';\nimport { Select as SelectSource } from 'antd';\nimport { SelectProps, SelectValue } from 'antd/es/select';\nimport { toOptions, TOptionsProps } from '../tool';\n\nexport type TSelectProps = Omit<SelectProps<SelectValue>, 'options'> & TOptionsProps;\n\n/**\n * 下拉选择框过滤器\n */\nexport const selectFilterOption: TSelectProps['filterOption'] = (input, option) => {\n  return !!option && typeof option.children === 'string' && option.children.toLowerCase().includes(input.toLowerCase());\n};\n\n/**\n * 下拉选择框\n */\nexport const Select: React.FC<TSelectProps> = ({ options = [], ...props }) => {\n  const selectOption = useMemo(() => {\n    return toOptions(options).map(({ label, ...i }) => (\n      <SelectSource.Option key={i.value} {...i}>\n        {label}\n      </SelectSource.Option>\n    ));\n  }, [JSON.stringify(options)]);\n\n  return (\n    <SelectSource allowClear placeholder=\"请选择\" filterOption={selectFilterOption} {...props}>\n      {selectOption}\n    </SelectSource>\n  );\n};\n","import React, { useMemo } from 'react';\nimport { Radio as RadioSource } from 'antd';\nimport { RadioGroupProps } from 'antd/es/radio';\nimport { CheckboxOptionType } from 'antd/es/checkbox';\nimport { toOptions, TOptionsProps } from '../tool';\n\nexport type TRadioProps = Omit<RadioGroupProps, 'options'> & TOptionsProps<CheckboxOptionType>;\n\n/**\n * 单选框\n */\nexport const Radio: React.FC<TRadioProps> = ({ options = [], ...props }) => {\n  const radioGroupOptions = useMemo(() => toOptions(options), [JSON.stringify(options)]);\n\n  return <RadioSource.Group options={radioGroupOptions} {...props} />;\n};\n\n/**\n * 单选按钮组\n */\nexport const RadioButton: React.FC<TRadioProps> = ({ options = [], ...props }) => {\n  const radioButtons = useMemo(() => {\n    return toOptions(options).map(({ value, label }, k) => (\n      <RadioSource.Button key={value + k} value={value}>\n        {label}\n      </RadioSource.Button>\n    ));\n  }, [JSON.stringify(options)]);\n\n  return <RadioSource.Group {...props}>{radioButtons}</RadioSource.Group>;\n};\n","import React, { useMemo } from 'react';\nimport { Menu as MenuSource } from 'antd';\nimport { MenuProps, ClickParam } from 'antd/es/menu';\n\nexport type TMenuData = {\n  icon?: React.ReactNode;\n  title: string; // 标题\n  children?: TMenuData[];\n  [key: string]: any;\n};\n\nexport type TMenuProps = MenuProps & {\n  data: TMenuData[]; // 导航菜单配置数据，生成菜单后一般无法更改，如果需要更改请在 Menu Props 加上 key\n  onClickItem?: (data: TMenuData, key: string, param: ClickParam) => void; // 点击导航菜单 item\n};\n\n/**\n * 导航菜单\n * 根据配置，可无限生成子菜单\n */\nexport const Menu: React.FC<TMenuProps> = ({\n  data,\n  onClickItem,\n  onClick,\n  inlineCollapsed,\n  openKeys,\n  onOpenChange,\n  ...props\n}) => {\n  const children = useMemo(() => menuTree(data), []);\n\n  const computeProps = inlineCollapsed ? {} : { openKeys, onOpenChange };\n\n  const menuOnClick = (param: ClickParam) => {\n    const { item, key } = param;\n    onClickItem?.(item.props['data-info'], key, param);\n    onClick?.(param);\n  };\n\n  return (\n    <MenuSource onClick={menuOnClick} {...computeProps} {...props}>\n      {children}\n    </MenuSource>\n  );\n};\n\n/**\n * 递归生成子菜单\n */\nconst menuTree = (data: TMenuData[], prefix = 'key') => {\n  return data.map((i, k) => {\n    const { title, icon, children } = i;\n    const key = `${prefix}-${k}`;\n    const menuItemTitle = (\n      <>\n        {icon}\n        <span>{title}</span>\n      </>\n    );\n    return children?.length ? (\n      <MenuSource.SubMenu key={key} title={menuItemTitle}>\n        {menuTree(children, key)}\n      </MenuSource.SubMenu>\n    ) : (\n      <MenuSource.Item key={key} data-info={i}>\n        {menuItemTitle}\n      </MenuSource.Item>\n    );\n  });\n};\n","import React, { useMemo } from 'react';\nimport { Link, LinkProps } from 'react-router-dom';\nimport { Breadcrumb as BreadcrumbSource } from 'antd';\nimport { BreadcrumbProps, BreadcrumbItemProps } from 'antd/es/breadcrumb';\n\nexport type TBreadcrumbItemProps = Partial<LinkProps> & { itemProps?: BreadcrumbItemProps };\n\nexport type TBreadcrumbProps = BreadcrumbProps & { data: TBreadcrumbItemProps[] };\n\n/**\n * 面包屑\n * 可由配置生成可跳转的面包屑\n */\nexport const Breadcrumb: React.FC<TBreadcrumbProps> = ({ data, ...props }) => {\n  const breadcrumbItems = useMemo(\n    () =>\n      data.map(({ itemProps, to, children, ...i }, k) => (\n        <BreadcrumbSource.Item key={k} {...itemProps}>\n          {to ? (\n            <Link to={to} {...i}>\n              {children}\n            </Link>\n          ) : (\n            children\n          )}\n        </BreadcrumbSource.Item>\n      )),\n    [JSON.stringify(data)]\n  );\n\n  return <BreadcrumbSource {...props}>{breadcrumbItems}</BreadcrumbSource>;\n};\n","/**\n * 表单项\n */\nexport * from './form';\nexport * from './input';\nexport * from './select';\nexport * from './checkbox';\nexport * from './radio';\n\n/**\n * 功能项\n */\nexport * from './menu';\nexport * from './dropdown';\nexport * from './breadcrumb';\nexport * from './modal';\n","import { observable, action } from 'mobx';\nimport { TUseTableStates } from 'components';\nimport { jsonParse } from '@dyb881/json';\nimport { debounce } from 'lodash';\n\n/**\n * 视图\n */\nexport default class View {\n  constructor() {\n    this.resize();\n    window.addEventListener('resize', debounce(this.resize, 100));\n  }\n\n  /**\n   * 自动计算左边导航\n   */\n  @action resize = () => {\n    const { innerWidth: w } = window;\n    if (w <= 750) {\n      this.isMobile = true;\n      this.collapsed = false;\n    } else {\n      this.isMobile = false;\n      this.collapsed = w <= 1000;\n    }\n  };\n\n  @observable isMobile = false; // 是否移动端\n  @observable collapsed = false;\n  @action siderOnChange = () => {\n    this.collapsed = !this.collapsed;\n  };\n\n  /**\n   * 页面配置数据\n   */\n  @observable pageConfig: TPageConfig = jsonParse(localStorage['ra-admin-pageConfig'], {\n    componentSize: undefined,\n    theme: 'dark',\n    hiddenMenu: false,\n    hiddenHeader: false,\n    menuIconTop: 50,\n    headerIconRight: 30,\n  });\n  @action setPageConfig = (pageConfig: TPageConfig) => {\n    this.pageConfig = pageConfig;\n    localStorage['ra-admin-pageConfig'] = JSON.stringify(pageConfig);\n    this.resize();\n  };\n\n  /**\n   * 页面标题\n   */\n  @observable title: string = window.document.title;\n  @action setTitle = (title: string) => {\n    window.document.title = this.title = title;\n  };\n\n  /**\n   * 表格数据临时储存\n   */\n  tableDatas: TTableDatas = {};\n  setTableData = (key: string, value?: TTableData) => {\n    if (value) {\n      this.tableDatas[key] = value;\n    } else {\n      delete this.tableDatas[key];\n    }\n  };\n  getTableData = (key: string) => {\n    return this.tableDatas[key];\n  };\n}\n\n/**\n * 页面配置\n */\ntype TPageConfig = {\n  componentSize: 'large' | 'middle' | 'small'; // 全局组件尺寸\n  theme: 'light' | 'dark'; // 主题色\n  hiddenMenu: boolean; // 隐藏菜单\n  hiddenHeader: boolean; // 默认隐藏头部\n  menuIconTop: number; // 菜单开关按钮位置\n  headerIconRight: number; // 页头开关按钮位置\n};\n\n/**\n * 表格数据\n */\ntype TTableData = Pick<TUseTableStates, 'search' | 'current' | 'pageSize'>;\n\n/**\n * 仅允许全部写入和清空\n */\ntype TTableDatas = { [key: string]: TTableData };\n","import { observable, action, when } from 'mobx';\n\n/**\n * 用户\n */\nexport default class User {\n  /**\n   * 是否登录\n   */\n  @observable isLogin: boolean = false;\n\n  /**\n   * 登陆状态监听\n   */\n  @action onLogin = (bind: boolean | (() => void)) => {\n    if (typeof bind === 'boolean') {\n      this.isLogin = bind;\n    } else {\n      when(() => this.isLogin, bind);\n    }\n  };\n}\n","import React from 'react';\nimport { RouteComponentProps } from 'react-router-dom';\nimport { configure } from 'mobx';\nimport { observer } from 'mobx-react';\nimport Stores from 'stores';\n\n/**\n * 全局设置\n */\nconfigure({\n  enforceActions: 'observed', // 只有被定义为动作的方法才能修改监听值\n  computedRequiresReaction: true, // 计算值内必须使用监听值\n});\n\n/**\n * 全局状态类型\n */\ntype TStores = { stores: Stores };\n\n/**\n * 全局状态\n */\nexport const stores = new Stores();\n\n/**\n * 状态联合到组件（函数组件）\n * 使用后状态变更时会刷新两次组件，build 后就不会有这情况了，可放心开发\n */\nexport const combine = <P extends object>(Component: React.FC<P & TStores>) => {\n  // 生成观察者组件\n  const Observer = observer(Component);\n  // 注入全局状态\n  const Combine: React.FC<P> = props => <Observer {...props} stores={stores} />;\n  return Combine;\n};\n\n/**\n * 状态 Props\n */\nexport type TStoresProps = Partial<TStores>;\n\n/**\n * 状态联合到组件（类装饰器）\n * 使用后状态变更时会刷新两次组件，build 后就不会有这情况了，可放心开发\n */\nexport const Combine = <P extends object = {}>(Component: React.ComponentClass<P & TStoresProps>) => {\n  // 生成观察者组件\n  const Observer = observer(Component);\n  // 注入全局状态\n  class Combine extends React.Component<P> {\n    render = () => <Observer {...this.props} stores={stores} />;\n  }\n  return Combine;\n};\n\n/**\n * 在原有基础上加入路由类型定义\n */\nexport const combinePage = <Params extends object, P extends object = {}>(\n  Component: React.FC<P & TStores & RouteComponentProps<Params>>\n) => {\n  return combine(Component);\n};\n","import View from './view';\nimport User from './user';\n\n/**\n * 全局状态管理\n */\nexport default class Stores {\n  /**\n   * 状态初始化\n   */\n  constructor() {\n    // 默认为登录状态\n    this.user.onLogin(true);\n  }\n\n  /**\n   * 视图\n   */\n  view = new View();\n\n  /**\n   * 用户\n   */\n  user = new User();\n}\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"formLayout\":\"formLayout--2hHjd\"};","import React, { useEffect, useMemo, useCallback } from 'react';\nimport { useLocation, useHistory, matchPath } from 'react-router-dom';\nimport { Menu, TMenuData, TMenuProps, TRouters, useStates } from 'common';\n\nexport type TMenuNavData = Pick<TMenuData, 'icon' | 'title'> & {\n  to?: string; // 路由地址\n  path?: string; // 绑定组件路径，为空时会尝试使用 to 的路径\n  hidden?: boolean; // 不展示到导航菜单\n  children?: TMenuNavData[];\n};\n\nexport type TMenuNavProps = Omit<TMenuProps, 'data'> & {\n  data: TMenuNavData[]; // 导航菜单配置数据，生成菜单后一般无法更改，如果需要更改请在 Menu Props 加上 key\n  reload?: () => void; // 刷新\n};\n\ntype TMenuNavStates = {\n  openKeys: any[];\n  selectedKeys: any[];\n};\n\n/**\n * 导航栏\n * 根据路由自动打开并选中菜单\n */\nexport const MenuNav: React.FC<TMenuNavProps> = ({ reload, data, ...props }) => {\n  const { push } = useHistory();\n  const { pathname } = useLocation();\n  const { states, setStates } = useStates<TMenuNavStates>({ openKeys: [], selectedKeys: [] });\n\n  const menuNavData = useMemo(() => menuNavDataHidden(data), []);\n\n  /**\n   * 点击菜单执行事件并跳转页面\n   */\n  const onClickItem: TMenuProps['onClickItem'] = (data, key, param) => {\n    props.onClickItem?.(data, key, param);\n    if (pathname === data.to) {\n      reload && reload(); // 跳转地址和当前地址相同，执行刷新\n    } else {\n      data.to && push(data.to); // 跳转对应地址\n    }\n  };\n\n  /**\n   * 菜单开关\n   */\n  const onOpenChange = useCallback((openKeys: string[]) => setStates({ openKeys }), []);\n\n  /**\n   * 监听路由变动，打开和选中菜单项\n   */\n  useEffect(() => {\n    let selectedKey = '';\n    const openKeys = [...states.openKeys];\n\n    const getOpenKeys = (data: TMenuNavData[], prefix = 'key') => {\n      let isSelect = false; // 该路线是否选中\n\n      data.forEach((i, k) => {\n        const key = `${prefix}-${k}`;\n        if (matchPath(pathname, { path: i.to, exact: true })) {\n          selectedKey = key; // 选中\n          isSelect = true;\n        } else if (i.children?.length) {\n          isSelect = getOpenKeys(i.children, key);\n          // 路线被选中，并且未打开，则 push key\n          isSelect && !openKeys.includes(key) && openKeys.push(key);\n        }\n      });\n\n      return isSelect;\n    };\n\n    getOpenKeys(data);\n    setStates({ openKeys, selectedKeys: [selectedKey] });\n  }, [pathname]);\n\n  return (\n    <Menu\n      {...props}\n      {...states}\n      onOpenChange={onOpenChange}\n      data={menuNavData as TMenuData[]}\n      onClickItem={onClickItem}\n    />\n  );\n};\n\n/**\n * 隐藏数据中 hidden === true 的项\n */\nexport const menuNavDataHidden = (data: TMenuNavData[]) => {\n  return data\n    .filter(i => !i.hidden)\n    .map(i => {\n      if (i.children) i = { ...i, children: menuNavDataHidden(i.children) };\n      return i;\n    });\n};\n\n/**\n * 获取导航数据中路由信息\n */\nexport const getMenuNavDataRouters = (data: TMenuNavData[]) => {\n  let routers: TRouters = [];\n  for (let { to, path, title, children } of data) {\n    to && routers.push({ to, path: path || to.slice(1).split('/:')[0], title });\n    if (children) routers = [...routers, ...getMenuNavDataRouters(children)];\n  }\n  return routers;\n};\n\n/**\n * 获取导航数据中路由地址匹配的标题\n */\nexport const getMenuNavDataTitle = (data: TMenuNavData[], pathname: string) => {\n  let menuNavDatatitle = '';\n  data.forEach(({ to, title, children }) => {\n    if (matchPath(pathname, { path: to, exact: true })) {\n      menuNavDatatitle = title;\n    } else if (!menuNavDatatitle && children?.length) {\n      menuNavDatatitle = getMenuNavDataTitle(children, pathname);\n    }\n  });\n  return menuNavDatatitle;\n};\n\n/**\n * 获取导航数据中路由地址匹配的数组\n */\nexport const getMenuNavDatas = (data: TMenuNavData[], pathname: string) => {\n  let menuNavDatas: TMenuNavData[] = [];\n  data.forEach(i => {\n    const { to, children } = i;\n    if (matchPath(pathname, { path: to, exact: true })) {\n      menuNavDatas.push(i);\n    } else if (children?.length) {\n      const childrenMenuNavDatas = getMenuNavDatas(children, pathname);\n      childrenMenuNavDatas.length && menuNavDatas.push(i, ...childrenMenuNavDatas);\n    }\n  });\n  return menuNavDatas;\n};\n","import React, { useState, useCallback, forwardRef } from 'react';\nimport { ConfigProvider, Layout, Drawer, Switch, Avatar, Modal, Tooltip } from 'antd';\nimport { combine, Form, FormItem, RadioButton, InputNumber } from 'common';\nimport {\n  MenuFoldOutlined,\n  MenuUnfoldOutlined,\n  SettingOutlined,\n  MobileOutlined,\n  UserOutlined,\n  FullscreenOutlined,\n  FullscreenExitOutlined,\n} from '@ant-design/icons';\nimport screenfull, { Screenfull } from 'screenfull';\nimport classNames from 'classnames';\nimport style from './style.module.less';\n\nexport const Header = combine(({ stores }) => {\n  const [showHeader, setShowHeader] = useState(false);\n  const [visible, setVisible] = useState(false);\n  const { isMobile, pageConfig, setPageConfig } = stores.view;\n  const { hiddenMenu, hiddenHeader, headerIconRight } = pageConfig;\n\n  const onShow = useCallback(() => setVisible(true), []);\n  const onClose = useCallback(() => setVisible(false), []);\n  const onShowHeader = useCallback(() => setShowHeader(showHeader => !showHeader), []);\n  const onValuesChange = useCallback((changeValue: any, values: any) => {\n    if (Object.keys(changeValue)[0] === 'hiddenHeader' && changeValue.hiddenHeader) {\n      setShowHeader(false);\n    }\n    setPageConfig(values);\n  }, []);\n\n  return (\n    <Layout.Header\n      className={classNames(`transition ${style.header}`, {\n        [style.hidden]: hiddenHeader && !showHeader,\n      })}\n    >\n      <div className=\"between-center\">\n        <Interval className=\"center\" left>\n          {(isMobile || hiddenMenu) && <img src={require('images/logo.ico')} alt=\"\" className={style.logo} />}\n          {hiddenHeader || <MenuSwitch />}\n        </Interval>\n        <Interval className=\"center\">\n          <Avatar icon={<UserOutlined />} size=\"small\" />\n          <div className={style.userName}>User Name</div>\n          <Tooltip placement=\"bottom\" title=\"全屏\">\n            <Fullscreen />\n          </Tooltip>\n          <Tooltip placement=\"left\" title=\"网页设置\">\n            <SettingOutlined onClick={onShow} />\n          </Tooltip>\n        </Interval>\n        <Drawer title=\"网页设置\" onClose={onClose} visible={visible}>\n          <ConfigProvider componentSize=\"small\">\n            <Form initialValues={pageConfig} onValuesChange={onValuesChange}>\n              <FormItem label=\"组件尺寸\" name=\"componentSize\">\n                <RadioButton buttonStyle=\"solid\" options={componentSizeOptions} />\n              </FormItem>\n              <FormItem label=\"菜单主题色\" name=\"theme\">\n                <RadioButton buttonStyle=\"solid\" options={themeOptions} />\n              </FormItem>\n              <FormItem label=\"隐藏菜单\" name=\"hiddenMenu\" valuePropName=\"checked\">\n                <Switch />\n              </FormItem>\n              <FormItem label=\"隐藏页头\" name=\"hiddenHeader\" valuePropName=\"checked\">\n                <Switch />\n              </FormItem>\n              <FormItem label=\"菜单开关 Top\" name=\"menuIconTop\" placeholder>\n                <InputNumber min={0} />\n              </FormItem>\n              <FormItem label=\"页头开关 Right\" name=\"headerIconRight\" placeholder>\n                <InputNumber min={0} />\n              </FormItem>\n            </Form>\n          </ConfigProvider>\n        </Drawer>\n        {hiddenHeader && (\n          <div className={`transition ${style.showHeader}`} onClick={onShowHeader} style={{ right: headerIconRight }}>\n            <MobileOutlined className={style.icon} />\n          </div>\n        )}\n      </div>\n    </Layout.Header>\n  );\n});\n\nconst componentSizeOptions = [\n  { label: '默认' },\n  { label: '大', value: 'large' },\n  { label: '中', value: 'middle' },\n  { label: '小', value: 'small' },\n];\n\nconst themeOptions = { dark: '暗色', light: '亮色' };\n\n/**\n * 间隔，默认右对齐\n */\nexport const Interval: React.FC<React.HTMLAttributes<HTMLDivElement> & { left?: boolean }> = ({\n  left,\n  className,\n  ...props\n}) => <span className={classNames(style.interval, style[left ? 'left' : 'right'], className)} {...props} />;\n\ntype TMenuSwitchProps = {\n  style?: React.CSSProperties;\n  className?: string;\n};\n\n/**\n * 菜单开关按钮\n */\nexport const MenuSwitch = combine<TMenuSwitchProps>(({ stores, ...props }) => {\n  const { isMobile, collapsed, siderOnChange, pageConfig } = stores.view;\n  const { hiddenMenu } = pageConfig;\n\n  return React.cloneElement((isMobile || hiddenMenu) !== collapsed ? <MenuUnfoldOutlined /> : <MenuFoldOutlined />, {\n    onClick: siderOnChange,\n    ...props,\n  });\n});\n\ntype TFullscreenProps = TMenuSwitchProps & {\n  getElement?: () => Element;\n};\n\n/**\n * 全屏\n */\nexport const Fullscreen = forwardRef<HTMLSpanElement, TFullscreenProps>(\n  ({ getElement = () => document.documentElement, className, ...props }, ref) => {\n    const [isFullscreen, setIsFullscreen] = useState(false);\n    const s = screenfull as Screenfull;\n\n    const onClick = useCallback(() => {\n      if (!s.isEnabled) {\n        Modal.error({ title: '不支持全屏', content: '该浏览器不支持全屏 API' });\n        return;\n      }\n\n      if (s.isFullscreen) {\n        s.exit();\n      } else {\n        s.request(getElement());\n      }\n      setIsFullscreen(!s.isFullscreen);\n    }, []);\n\n    return React.cloneElement(isFullscreen ? <FullscreenExitOutlined /> : <FullscreenOutlined />, {\n      onClick,\n      className: classNames('pointer', className),\n      ref,\n      ...props,\n    });\n  }\n);\n","import React from 'react';\nimport { Layout } from 'antd';\nimport { combine } from 'common';\nimport { defaultTitle, menuNavData } from 'configs';\nimport { MenuNav, TMenuNavProps } from './menu_nav';\nimport classNames from 'classnames';\nimport style from './style.module.less';\nimport { MenuSwitch } from './header';\n\nexport const Sider = combine<Partial<TMenuNavProps>>(({ stores, ...props }) => {\n  const { isMobile, pageConfig, collapsed } = stores.view;\n  const { theme, hiddenMenu, hiddenHeader, menuIconTop } = pageConfig;\n  const isCollapsed = !(isMobile || hiddenMenu) && collapsed;\n\n  return (\n    <Layout.Sider\n      className={classNames(style.sider, { [style.hidden]: (isMobile || hiddenMenu) && !collapsed })}\n      collapsed={isCollapsed}\n      theme={theme}\n    >\n      <div className={`center transition ${style.logo}`}>\n        <img src={require('images/logo.ico')} alt=\"\" className=\"transition\" />\n        <h1 hidden={isCollapsed} className=\"transition\">\n          {defaultTitle}\n        </h1>\n      </div>\n      <MenuNav data={menuNavData} mode=\"inline\" inlineCollapsed={isCollapsed} theme={theme} {...props} />\n      {hiddenHeader && <MenuSwitch className={`center transition ${style.menuIcon}`} style={{ top: menuIconTop }} />}\n    </Layout.Sider>\n  );\n});\n","import React, { useState, useEffect, useCallback } from 'react';\nimport { ConfigProvider, Layout } from 'antd';\nimport { combine } from 'common';\nimport { Sider } from './sider';\nimport { Header } from './header';\nimport style from './style.module.less';\n\n/**\n * 设置为中文简体\n */\nimport zh_CN from 'antd/es/locale-provider/zh_CN';\nimport moment from 'moment';\nimport 'moment/locale/zh-cn';\nmoment.locale('zh-cn');\n\nconst { Content } = Layout;\n\nexport const LayoutBox = combine(({ children, stores }) => {\n  const [key, setKey] = useState(0);\n  const { pageConfig, setTableData } = stores.view;\n  const { theme } = pageConfig;\n\n  useEffect(() => {\n    window.document.body.setAttribute('data-theme', theme);\n  }, [theme]);\n\n  // 菜单导航重复点击当前\n  const reload = useCallback(() => setKey(key => key + 1), []);\n\n  // 点击左侧导航菜单\n  const onClickItem = useCallback(() => {\n    setTableData('root'); // 清空表格页数据\n  }, []);\n\n  return (\n    <ConfigProvider locale={zh_CN}>\n      <Layout className=\"fill\">\n        <Sider reload={reload} onClickItem={onClickItem} />\n        <Layout>\n          <Header />\n          <Content key={key} className={style.content}>\n            {children}\n          </Content>\n        </Layout>\n      </Layout>\n    </ConfigProvider>\n  );\n});\n","import React, { useState, useRef, useEffect, useCallback, useMemo, forwardRef, useImperativeHandle } from 'react';\nimport { useLocation } from 'react-router-dom';\nimport { Table, Divider, ConfigProvider, Pagination, Checkbox, Popover } from 'antd';\nimport { FormProps } from 'antd/es/form';\nimport { TableProps } from 'antd/es/table';\nimport { ColumnsType, ColumnGroupType } from 'antd/es/table/interface';\nimport { PaginationProps } from 'antd/es/pagination';\nimport { PopoverProps } from 'antd/es/popover';\nimport { SearchOutlined, UndoOutlined } from '@ant-design/icons';\nimport { TForm, useForm, useStates, combine } from 'common';\nimport { FormMobile, ButtonMobile } from '../page';\nimport { VirtualTable } from './virtual_table';\nimport { Interval } from '../../layout';\nimport { jsonParse, jsonStringify } from '@dyb881/json';\nimport { debounce } from 'lodash';\nimport classNames from 'classnames';\nimport style from './style.module.less';\n\nexport type TFormSearchProps = FormProps & {\n  buttons?: React.ReactNode; // 追加按钮\n};\n\n/**\n * 搜索表单\n */\nexport const FormSearch = forwardRef<TForm, TFormSearchProps>(({ children, className, buttons, ...props }, ref) => {\n  const formRef = useForm();\n  const { form, resetSubmit } = formRef;\n\n  useImperativeHandle(ref, () => formRef);\n\n  return (\n    <FormMobile form={form} layout=\"inline\" className={classNames(style.formSearch, className)} {...props}>\n      {children}\n      <Interval>\n        <ButtonMobile type=\"primary\" icon={<SearchOutlined />} htmlType=\"submit\">\n          搜索\n        </ButtonMobile>\n        <ButtonMobile icon={<UndoOutlined />} onClick={resetSubmit}>\n          重置\n        </ButtonMobile>\n        {buttons}\n      </Interval>\n    </FormMobile>\n  );\n});\n\nlet timeout: NodeJS.Timeout;\n\nexport type TTableMobileProps = Omit<TableProps<any>, 'columns'> & {\n  columns: Exclude<TableProps<any>['columns'], undefined>;\n  widthAddition?: number; // 列宽度之和的前提上追加宽度\n  key?: React.Attributes['key'];\n};\n\n/**\n * 表格\n * 默认使用 id 作为 key\n * 并自动计算高度\n */\nexport const TableMobile = combine<TTableMobileProps>(({ stores, columns, scroll, widthAddition = 0, ...props }) => {\n  const box = useRef<HTMLDivElement>(null);\n  const { states, setStates } = useStates({});\n  const { y, width, ...styles } = states;\n  const { collapsed, pageConfig, isMobile } = stores.view;\n\n  const resize = useCallback(() => {\n    timeout && clearTimeout(timeout);\n    if (!box.current) return;\n    const { firstElementChild, offsetTop, nextElementSibling, clientHeight } = box.current;\n    if (stores.view.isMobile) {\n      const height = firstElementChild?.clientHeight;\n      setStates({ height });\n      timeout = setTimeout(() => {\n        setStates({ height: undefined, y: undefined });\n      }, 300);\n      return;\n    }\n\n    setStates({ height: clientHeight, width: window.innerWidth - 32 - (stores.view.collapsed ? 80 : 200) });\n    let height = window.innerHeight - offsetTop - 82;\n    if (nextElementSibling) height -= nextElementSibling.clientHeight + 16;\n    const [thead] = firstElementChild?.getElementsByTagName('thead');\n    setStates({ height, y: height - thead.clientHeight });\n  }, []);\n\n  useEffect(() => {\n    timeout && clearTimeout(timeout);\n    timeout = setTimeout(resize, 300);\n  }, [pageConfig.componentSize, collapsed]);\n\n  useEffect(() => {\n    resize();\n    const resizeDebounce = debounce(resize, 300);\n    window.addEventListener('resize', resizeDebounce);\n    return () => window.removeEventListener('resizeDebounce', resizeDebounce);\n  }, []);\n\n  const { dataSource } = props;\n\n  // 列宽之和，用于横向滚动\n  const x = useMemo(() => toScrollX(columns) + widthAddition, [columns.length, widthAddition]);\n\n  // 移动端访问过滤浮动列\n  const mergedColumns = useMemo(() => (isMobile ? columns.map(({ fixed, ...column }) => column) : columns), [isMobile]);\n\n  const tableProps: TTableMobileProps = {\n    key: x,\n    rowKey: 'id',\n    pagination: false,\n    columns: mergedColumns,\n    scroll: { x, y, ...scroll },\n    ...props,\n  };\n\n  return (\n    <div ref={box} className=\"transition\" style={styles}>\n      {dataSource!?.length > 100 ? <VirtualTable tableWidth={width} {...tableProps} /> : <Table {...tableProps} />}\n    </div>\n  );\n});\n\nexport type TPaginationMobilePropsOnChange = (current: number, pageSize: number) => void;\n\nexport type TPaginationMobileProps = Omit<PaginationProps, 'onChange' | 'onShowSizeChange'> & {\n  onChange?: TPaginationMobilePropsOnChange;\n};\n\n/**\n * 自适应分页组件\n */\nexport const PaginationMobile = combine<TPaginationMobileProps>(({ stores, onChange, ...props }) => {\n  const { pageConfig, isMobile } = stores.view;\n  return (\n    <ConfigProvider componentSize=\"middle\">\n      <div className={style.pagination}>\n        <Pagination\n          size={pageConfig.componentSize}\n          simple={isMobile}\n          showQuickJumper\n          showSizeChanger\n          pageSizeOptions={['10', '20', '50', '100', '200', '500', '1000']}\n          showTotal={total => `总计 ${total} 条`}\n          onChange={onChange as any}\n          onShowSizeChange={onChange}\n          {...props}\n        />\n      </div>\n    </ConfigProvider>\n  );\n});\n\nexport type TColumnsSettingProps = PopoverProps & {\n  columns: ColumnsType;\n  value: string[];\n  onChange: (hides: string[]) => void;\n};\n\n/**\n * 列展示设置\n */\nexport const ColumnsSetting = forwardRef<Popover, TColumnsSettingProps>(\n  ({ columns, value, onChange, ...props }, ref) => {\n    const { length } = value;\n    const isAll = !length; // 是否全选\n\n    const clear = useCallback(() => onChange([]), []);\n\n    const title = useMemo(\n      () => (\n        <div className={style.columnsSetting}>\n          <Checkbox checked={isAll} indeterminate={!isAll} onClick={clear}>\n            列展示\n          </Checkbox>\n        </div>\n      ),\n      [isAll]\n    );\n\n    const content = useMemo(\n      () => (\n        <>\n          {columns.map((i, k) => {\n            const key = '' + (i.dataIndex || i.key || k);\n            const index = value.indexOf(key);\n            const checked = index === -1;\n\n            return (\n              <div className={`between-center ${style.columnsSetting}`} key={key}>\n                <Checkbox\n                  checked={checked}\n                  onClick={() => {\n                    checked ? value.push(key) : value.splice(index, 1);\n                    onChange([...value]);\n                  }}\n                >\n                  {i.title}\n                </Checkbox>\n                <span>{i.width || 'auto'}</span>\n              </div>\n            );\n          })}\n        </>\n      ),\n      [length]\n    );\n\n    return <Popover placement=\"bottomRight\" title={title} content={content} trigger=\"click\" ref={ref} {...props} />;\n  }\n);\n\n/**\n * 列展示设置 Hooks\n */\nexport const useColumnsSetting = (columns: ColumnsType) => {\n  const { pathname } = useLocation();\n  // 读取浏览器数据\n  const [value, onChange] = useState<string[]>(jsonParse(localStorage[`columns_setting_${pathname}`], []));\n\n  // 记录数据到浏览器\n  useEffect(() => {\n    localStorage[`columns_setting_${pathname}`] = jsonStringify(value);\n  }, [value.length]);\n\n  const columnsSettingProps = { columns, value, onChange };\n\n  const columnsHides = useMemo(() => {\n    return columns.filter((i, k) => {\n      const key = '' + (i.dataIndex || i.key || k);\n      return !value.includes(key);\n    });\n  }, [value.length]);\n\n  return { columnsSettingProps, columnsHides };\n};\n\n/**\n * 动作组件，自动添加分割线\n */\nexport const Action: React.FC = ({ children }) => (\n  <>\n    {React.Children.map(children, (child, index) => (\n      <>\n        {index > 0 && <Divider type=\"vertical\" />}\n        {child}\n      </>\n    ))}\n  </>\n);\n\n/**\n * 计算所有列之和，并追加宽度\n */\nexport const toScrollX = (columns: ColumnsType) => {\n  return columns.reduce((v, i) => {\n    let sum = (+i.width! || 0) + v;\n    const { children } = i as ColumnGroupType<any>;\n    if (children) sum += toScrollX(children);\n    return sum;\n  }, 0);\n};\n","import React, { useMemo } from 'react';\nimport { useLocation, useHistory } from 'react-router-dom';\nimport { PageHeader } from 'antd';\nimport { PageHeaderProps } from 'antd/es/page-header';\nimport { Breadcrumb, TBreadcrumbProps } from 'common';\nimport { getMenuNavDataTitle, getMenuNavDatas } from '../layout';\nimport { menuNavData } from 'configs';\n\ntype TRouterTitleProps = React.HTMLAttributes<HTMLSpanElement> & { before?: string; after?: string };\n\n/**\n * 路由标题\n */\nexport const RouterTitle: React.FC<TRouterTitleProps> = ({ before, after, ...props }) => {\n  const { pathname } = useLocation();\n\n  const title = useMemo(() => getMenuNavDataTitle(menuNavData, pathname), [pathname]);\n\n  return (\n    <span {...props}>\n      {before}\n      {title}\n      {after}\n    </span>\n  );\n};\n\n/**\n * 路由面包屑\n */\nexport const RouterBreadcrumb: React.FC<Partial<TBreadcrumbProps>> = ({ ...props }) => {\n  const { pathname } = useLocation();\n\n  const data = useMemo(() => {\n    const datas = getMenuNavDatas(menuNavData, pathname).map(i => ({ to: i.to, children: i.title }));\n    datas[datas.length - 1].to = undefined; // 最后一个不需要跳转\n    return datas;\n  }, [pathname]);\n\n  return <Breadcrumb data={data} {...props} />;\n};\n\nexport type TRouterPageHeaderProps = Partial<Omit<PageHeaderProps, 'onBack'>> & {\n  onBack?: true | PageHeaderProps['onBack'];\n};\n\n/**\n * 标题栏\n */\nexport const RouterPageHeader: React.FC<TRouterPageHeaderProps> = ({ onBack, ...props }) => {\n  const { goBack } = useHistory();\n\n  return <PageHeader title={<RouterTitle />} onBack={onBack === true ? goBack : onBack} {...props} />;\n};\n","import React, { useRef } from 'react';\nimport { ConfigProvider, BackTop, Spin, Button, Tooltip } from 'antd';\nimport { FormProps } from 'antd/es/form';\nimport { ButtonProps } from 'antd/es/button';\nimport { ConfigProviderProps } from 'antd/es/config-provider';\nimport { combine, Form, FormItem, TFormItemProps } from 'common';\nimport { RouterBreadcrumb } from './router_component';\nimport classNames from 'classnames';\nimport style from './style.module.less';\n\nexport type TPageBoxProps = React.HTMLAttributes<HTMLDivElement> & {\n  loading?: boolean | string;\n  configProviderProps?: ConfigProviderProps;\n};\n\n/**\n * 页面盒子\n */\nexport const PageBox: React.FC<TPageBoxProps> = ({ loading, children, className, configProviderProps, ...props }) => {\n  const box = useRef(null);\n\n  return (\n    <ConfigProvider getPopupContainer={() => box.current || document.body} {...configProviderProps}>\n      <div className={classNames(`fill overflow ${style.page}`, className)} ref={box} {...props}>\n        {box.current && <BackTop target={() => box.current!} style={{ right: 50 }} />}\n        <Spin spinning={!!loading} tip={typeof loading === 'string' ? loading : undefined}>\n          {children}\n        </Spin>\n      </div>\n    </ConfigProvider>\n  );\n};\n\n/**\n * 基础页面布局\n */\nexport const Page = combine<TPageBoxProps>(({ stores, configProviderProps, className, children, ...props }) => {\n  const { componentSize } = stores.view.pageConfig;\n\n  return (\n    <PageBox\n      configProviderProps={{ componentSize, ...configProviderProps }}\n      className={classNames(style[componentSize], className)}\n      {...props}\n    >\n      <RouterBreadcrumb />\n      {children}\n    </PageBox>\n  );\n});\n\n/**\n * 自适应表单\n */\nexport const FormMobile = combine<FormProps>(({ stores, layout, ...props }) => (\n  <Form layout={stores.view.isMobile ? 'vertical' : layout} {...props} />\n));\n\n/**\n * 自适应表单 Item\n */\nexport const FormItemMobile = combine<TFormItemProps>(({ stores, labelCol, wrapperCol, ...props }) => {\n  if (!stores.view.isMobile) Object.assign(props, { labelCol, wrapperCol });\n  return <FormItem {...props} />;\n});\n\n/**\n * 自适应按钮\n */\nexport const ButtonMobile = combine<ButtonProps>(({ stores, icon, children, ...props }) => {\n  const { isMobile, pageConfig } = stores.view;\n\n  return (isMobile || pageConfig.componentSize === 'small') && icon ? (\n    <Tooltip placement=\"top\" title={children}>\n      <Button shape=\"circle\" icon={icon} {...props} />\n    </Tooltip>\n  ) : (\n    <Button icon={icon} {...props}>\n      {children}\n    </Button>\n  );\n});\n","import React, { useState, useRef, useEffect, useMemo } from 'react';\nimport { Table } from 'antd';\nimport { TableProps } from 'antd/es/table';\nimport { VariableSizeGrid } from 'react-window';\nimport { combine } from 'common';\nimport styles from './style.module.less';\n\nexport type TVirtualTableProps = TableProps<any> & {\n  tableWidth?: number;\n};\n\n/**\n * 虚拟滚动表格\n */\nexport const VirtualTable = combine<TVirtualTableProps>(({ stores, tableWidth = 0, columns = [], ...props }) => {\n  const { componentSize } = stores.view.pageConfig;\n  const gridRef = useRef<VariableSizeGrid>(null);\n  const { scroll = {} } = props;\n  const { x = 0, y = 0 } = scroll;\n\n  useEffect(() => {\n    gridRef.current?.resetAfterIndices({\n      rowIndex: 0,\n      columnIndex: 0,\n      shouldForceUpdate: false,\n    });\n  }, [tableWidth]);\n\n  // 给剩余的列分配宽度，并过滤 fixed\n  const mergedColumns = useMemo(() => {\n    let laveWidth = +x;\n    const { length } = columns.filter(({ width }) => {\n      if (width) laveWidth -= +width;\n      return !width;\n    });\n    const width = Math.floor(laveWidth / length);\n    let mergedColumns = columns.map(({ fixed, ...column }) => (column.width ? column : { ...column, width }));\n\n    // 实际宽度大于滚动宽度时，放大列宽\n    if (tableWidth > x) {\n      const scale = tableWidth / +x;\n      mergedColumns = mergedColumns.map(({ width, ...column }) => {\n        return { ...column, width: Math.floor(+width! * scale) };\n      });\n    }\n\n    return mergedColumns;\n  }, [x, tableWidth]);\n\n  const [connectObject] = useState(() => {\n    const obj = {};\n    Object.defineProperty(obj, 'scrollLeft', {\n      get: () => null,\n      set: scrollLeft => {\n        if (gridRef.current) {\n          gridRef.current!.scrollTo({\n            scrollLeft,\n          } as any);\n        }\n      },\n    });\n    return obj;\n  });\n\n  const renderVirtualList = (rawData: any, { ref, onScroll }: any) => {\n    ref.current = connectObject;\n    return (\n      <VariableSizeGrid\n        ref={gridRef}\n        className=\"transition\"\n        height={y}\n        rowCount={rawData.length}\n        columnCount={mergedColumns.length}\n        rowHeight={() => rowHeights[componentSize]}\n        width={tableWidth}\n        onScroll={({ scrollLeft }) => onScroll({ scrollLeft })}\n        columnWidth={index => +mergedColumns[index].width!}\n      >\n        {({ columnIndex, rowIndex, style }) => {\n          const { dataIndex, render } = mergedColumns[columnIndex];\n          const data = rawData[rowIndex];\n          const column = data['' + dataIndex];\n\n          return (\n            <div style={{ padding: columnPadding[componentSize], ...style }} className={styles.virtualColumn}>\n              {render?.(column ?? data, data, rowIndex) || column}\n            </div>\n          );\n        }}\n      </VariableSizeGrid>\n    );\n  };\n\n  return (\n    <Table\n      {...props}\n      rowSelection={undefined}\n      columns={mergedColumns}\n      components={{\n        body: renderVirtualList,\n      }}\n    />\n  );\n});\n\nconst rowHeights = { large: 54, middle: 46, small: 38 };\n\nconst columnPadding = { large: 16, middle: 12, small: 8 };\n","import React from 'react';\nimport { useHistory } from 'react-router-dom';\nimport { Divider, Tooltip } from 'antd';\nimport { PlusOutlined, ReloadOutlined, SettingOutlined } from '@ant-design/icons';\nimport { RouterPageHeader, TRouterPageHeaderProps } from '../router_component';\nimport { Page, TPageBoxProps, ButtonMobile } from '../page';\nimport { Interval } from '../../layout';\nimport {\n  TableMobile,\n  TTableMobileProps,\n  PaginationMobile,\n  TPaginationMobileProps,\n  ColumnsSetting,\n  useColumnsSetting,\n} from './components';\n\nexport type TPageTableProps = Pick<TPageBoxProps, 'loading'> &\n  Pick<TRouterPageHeaderProps, 'onBack' | 'extra'> &\n  Omit<TTableMobileProps, 'loading'> & {\n    add?: (() => void) | string; // 新建\n    reload?: () => void; // 刷新\n    paginationProps?: TPaginationMobileProps; // 分页数据\n  };\n\n/**\n * 表格页\n */\nexport const PageTable: React.FC<TPageTableProps> = ({\n  loading,\n  onBack,\n  extra,\n  add,\n  reload,\n  children,\n  paginationProps,\n  columns,\n  ...props\n}) => {\n  const { columnsSettingProps, columnsHides } = useColumnsSetting(columns!);\n  const { push } = useHistory();\n\n  return (\n    <Page loading={loading}>\n      <RouterPageHeader\n        onBack={onBack}\n        extra={\n          <>\n            {(extra || add) && (\n              <>\n                <Interval>\n                  {extra}\n                  {add && (\n                    <ButtonMobile\n                      type=\"primary\"\n                      icon={<PlusOutlined />}\n                      onClick={typeof add === 'string' ? () => push(add) : add}\n                    >\n                      新建\n                    </ButtonMobile>\n                  )}\n                </Interval>\n                <Divider type=\"vertical\" />\n              </>\n            )}\n            <Interval style={{ marginLeft: 0 }}>\n              {reload && (\n                <Tooltip placement=\"top\" title=\"刷新\">\n                  <ReloadOutlined className=\"pointer\" onClick={reload} />\n                </Tooltip>\n              )}\n              <Tooltip placement=\"left\" title=\"设置列展示\">\n                <ColumnsSetting {...columnsSettingProps}>\n                  <SettingOutlined className=\"pointer\" />\n                </ColumnsSetting>\n              </Tooltip>\n            </Interval>\n          </>\n        }\n      >\n        {children}\n      </RouterPageHeader>\n      <TableMobile columns={columnsHides} {...props} />\n      <PaginationMobile {...paginationProps} />\n    </Page>\n  );\n};\n","import { useRef, useCallback, useEffect } from 'react';\nimport { autorun } from 'mobx';\nimport { TForm, useStates, stores } from 'common';\nimport { TPaginationMobilePropsOnChange } from './components';\n\n/**\n * 表格状态\n */\nexport type TUseTableStates = {\n  search: object; // 搜索内容\n  current: number; // 当前页码\n  pageSize: number; // 每页展示多少条数据\n  total: number; // 数据总数\n  dataSource: any[]; // 表格数据\n  selectedRowKeys: React.ReactText[]; // 选中行\n  loading: boolean | string; // 加载中\n  [key: string]: any;\n};\n\nexport type TUseTableOptions = {\n  defaultStates?: Partial<TUseTableStates>; // 默认状态\n  tableDataKey?: string; // 表格数据 key\n};\n\n/**\n * 表格页 Hooks\n * 自定义 Hooks，内置表格页常用数据\n */\nexport const useTable = (getList?: () => void, options?: TUseTableOptions) => {\n  const { getTableData, setTableData } = stores.view;\n  const { defaultStates, tableDataKey = 'root' } = options || {};\n  const formRef = useRef<TForm>(null);\n  const { states, setStates } = useStates<TUseTableStates>({\n    search: {},\n    current: 1,\n    pageSize: 20,\n    total: 0,\n    dataSource: [],\n    selectedRowKeys: [],\n    loading: false,\n    ...defaultStates, // 写入默认值\n    ...getTableData(tableDataKey), // 获取表格缓存数据\n  });\n  const { search, current, pageSize, total, dataSource, selectedRowKeys, loading } = states;\n\n  useEffect(() => {\n    // 写入默认值\n    formRef.current?.form.setFieldsValue(search);\n\n    return autorun(() => {\n      // 根据窗口宽度调整 pageSize\n      stores.view.isMobile && setStates({ pageSize: 20 });\n    });\n  }, []);\n\n  /**\n   * use 监听条件，数组的任意一个值发生变动时，执行对应更新\n   */\n  const useList = [current, pageSize, JSON.stringify(search)];\n\n  /**\n   * 根据监听刷新数据\n   */\n  useEffect(() => {\n    // 缓存表格数据\n    setTableData(tableDataKey, { search, current, pageSize });\n    // 请求数据\n    getList?.();\n  }, useList);\n\n  /**\n   * 设置加载状态\n   */\n  const setLoading = useCallback((loading: TUseTableStates['loading']) => setStates({ loading }), []);\n\n  /**\n   * 表单提交\n   */\n  const onFinish = useCallback((search: TUseTableStates['search']) => setStates({ search, current: 1 }), []);\n\n  /**\n   * 分页变动\n   */\n  const paginationOnChange = useCallback<TPaginationMobilePropsOnChange>(\n    (current, pageSize) => setStates({ current, pageSize }),\n    []\n  );\n\n  /**\n   * 表格选中\n   */\n  const rowSelectionOnChange = useCallback(\n    (selectedRowKeys: TUseTableStates['selectedRowKeys']) => setStates({ selectedRowKeys }),\n    []\n  );\n\n  /**\n   * 表格页\n   */\n  const pageTableProps = {\n    // 分页配置\n    paginationProps: { current, pageSize, total, onChange: paginationOnChange },\n    dataSource,\n    loading,\n    reload: getList,\n    rowSelection: { selectedRowKeys, onChange: rowSelectionOnChange },\n  };\n\n  /**\n   * 搜索框\n   */\n  const formSearchProps = {\n    onFinish,\n    ref: formRef,\n  };\n\n  return { states, setStates, setLoading, pageTableProps, formSearchProps, useList, getList };\n};\n","import React, { useRef } from 'react';\nimport { Modal, ConfigProvider } from 'antd';\nimport { FormProps } from 'antd/es/form';\nimport { ModalProps } from 'antd/es/modal';\nimport { SaveOutlined } from '@ant-design/icons';\nimport { FormMobile } from '../page';\nimport classNames from 'classnames';\nimport style from './style.module.less';\n\nexport type TFormLayoutProps = FormProps & {\n  maxWidth?: number;\n  cols: [number, number]; // 宽度比\n};\n\n/**\n * 表单布局\n */\nexport const FormLayout: React.FC<TFormLayoutProps> = ({ className, maxWidth, cols, title, ...props }) => {\n  return (\n    <FormMobile\n      layout=\"horizontal\"\n      className={classNames(style.formLayout, className)}\n      style={{ maxWidth }}\n      labelCol={{ span: cols[0] }}\n      wrapperCol={{ span: cols[1] }}\n      {...props}\n    />\n  );\n};\n\nexport type TFormModal = Pick<ModalProps, 'title' | 'visible' | 'onOk' | 'onCancel' | 'width' | 'confirmLoading'> &\n  Partial<Omit<TFormLayoutProps, 'title'>> & {\n    modalProps?: ModalProps;\n  };\n\n/**\n * 表单弹窗\n */\nexport const FormModal: React.FC<TFormModal> = ({\n  title,\n  visible,\n  onOk,\n  onCancel,\n  width,\n  confirmLoading,\n  modalProps,\n  cols = [5, 16],\n  ...props\n}) => {\n  const box = useRef<HTMLDivElement>(null);\n\n  return (\n    <Modal\n      forceRender\n      maskClosable={false}\n      okText=\"保存\"\n      okButtonProps={{ icon: <SaveOutlined /> }}\n      {...{ title, visible, onOk, onCancel, width, confirmLoading }}\n      {...modalProps}\n    >\n      <ConfigProvider getPopupContainer={() => box.current || document.body}>\n        <div ref={box}>\n          <FormLayout cols={cols} name=\"formModal\" {...props} />\n        </div>\n      </ConfigProvider>\n    </Modal>\n  );\n};\n","import React, { forwardRef, useImperativeHandle } from 'react';\nimport { Button } from 'antd';\nimport { SaveOutlined, UndoOutlined } from '@ant-design/icons';\nimport { RouterPageHeader, TRouterPageHeaderProps } from '../router_component';\nimport { Page, TPageBoxProps, FormItemMobile } from '../page';\nimport { FormLayout, TFormLayoutProps } from './components';\nimport { Interval } from '../../layout';\nimport { TForm, useForm } from 'common';\n\nexport type TPageFormProps = Pick<TPageBoxProps, 'loading'> &\n  Pick<TRouterPageHeaderProps, 'extra'> &\n  Partial<TFormLayoutProps>;\n\n/**\n * 表格页\n */\nexport const PageForm = forwardRef<TForm, TPageFormProps>(\n  ({ loading, extra, children, maxWidth = 750, cols = [3, 12], ...props }, ref) => {\n    const formRef = useForm();\n    const { form, reset } = formRef;\n\n    useImperativeHandle(ref, () => formRef);\n\n    const [offset, span] = cols;\n\n    return (\n      <Page loading={loading}>\n        <RouterPageHeader onBack extra={extra} />\n        <FormLayout name=\"pageForm\" {...{ form, maxWidth, cols }} {...props}>\n          {children}\n          <FormItemMobile wrapperCol={{ span, offset }}>\n            <Interval left>\n              <Button type=\"primary\" icon={<SaveOutlined />} htmlType=\"submit\">\n                保存\n              </Button>\n              <Button icon={<UndoOutlined />} onClick={reset}>\n                重置\n              </Button>\n            </Interval>\n          </FormItemMobile>\n        </FormLayout>\n      </Page>\n    );\n  }\n);\n","import { useRef, useEffect, useCallback } from 'react';\nimport { useStates, TForm, useForm } from 'common';\nimport { FormProps } from 'antd/es/form';\nimport { ValidateErrorEntity } from 'rc-field-form/es/interface';\n\n/**\n * 表单状态\n */\nexport type TUseInfoStates = {\n  data: any; // 表单默认信息\n  loading: boolean | string; // 加载中\n};\n\nexport type TUseInfoOptions = {\n  defaultData?: TUseInfoStates['data']; // 默认值\n  getData?: () => void; // 获取数据\n  onFinish?: FormProps['onFinish']; // 保存数据\n};\n\n/**\n * 表单信息页 Hooks\n * 自定义 Hooks，内置表格页常用数据\n */\nexport const useInfo = (options?: TUseInfoOptions) => {\n  const { defaultData, getData, onFinish } = options || {};\n  const formRef = useRef<TForm>(null);\n  const { states, setStates } = useStates<TUseInfoStates>({ data: defaultData, loading: false });\n  const { data, loading } = states;\n\n  useEffect(() => {\n    // 获取默认值\n    getData?.();\n  }, []);\n\n  /**\n   * 写入表单数据\n   */\n  const setData = useCallback((data: TUseInfoStates['data']) => {\n    setStates({ data });\n    formRef.current?.reset(); // 写入数据后重置表单\n  }, []);\n\n  /**\n   * 设置加载状态\n   */\n  const setLoading = useCallback((loading: TUseInfoStates['loading']) => setStates({ loading }), []);\n\n  /**\n   * 滚动到错误输入框\n   */\n  const onFinishFailed = useCallback((errorInfo: ValidateErrorEntity) => {\n    formRef.current?.form.scrollToField(errorInfo.errorFields[0].name[0]);\n  }, []);\n\n  const pageFormProps = { loading, ref: formRef, initialValues: data, onFinishFailed, onFinish };\n\n  return { data, setData, setLoading, pageFormProps, formRef };\n};\n\n/**\n * 弹窗表单状态\n */\nexport type TUseInfoModalStates = {\n  data: any; // 表单默认信息\n  loading: boolean; // 加载中\n  visible: boolean; // 弹窗显示\n  isEdit: boolean; // 是否编辑\n};\n\nexport type TInfoModalEdit = (data: TUseInfoModalStates['data']) => void;\n\nexport type TUseInfoModalOptions = {\n  defaultData?: TUseInfoModalStates['data']; // 默认值\n  getData?: () => void; // 获取数据\n  onFinish?: FormProps['onFinish']; // 保存数据\n};\n\n/**\n * 弹窗表单 Hooks\n */\nexport const useInfoModal = (options?: TUseInfoModalOptions) => {\n  const { defaultData, getData, onFinish } = options || {};\n  const formRef = useForm();\n  const { form, submit, reset } = formRef;\n  const { states, setStates } = useStates<TUseInfoModalStates>({\n    data: defaultData,\n    loading: false,\n    visible: false,\n    isEdit: false,\n  });\n  const { data, loading, visible, isEdit } = states;\n\n  useEffect(() => {\n    // 获取默认值\n    if (visible) {\n      getData?.();\n      reset();\n    }\n  }, [visible]);\n\n  /**\n   * 写入表单数据\n   */\n  const setData = useCallback((data: TUseInfoModalStates['data']) => {\n    setStates({ data });\n    reset(); // 写入数据后重置表单\n  }, []);\n\n  /**\n   * 直接展示表单，一般用于新增\n   */\n  const add = useCallback(() => setStates({ data: defaultData, visible: true, isEdit: false }), []);\n\n  /**\n   * 写入表单默认数据并展示表单，一般用于编辑\n   */\n  const edit = useCallback<TInfoModalEdit>(data => setStates({ data, visible: true, isEdit: true }), []);\n\n  /**\n   * 隐藏弹窗\n   */\n  const hide = useCallback(() => setStates({ visible: false, loading: false }), []);\n\n  /**\n   * 设置加载状态\n   */\n  const setLoading = useCallback((loading: TUseInfoModalStates['loading']) => setStates({ loading }), []);\n\n  const formModalProps = {\n    form,\n    initialValues: data,\n    confirmLoading: loading,\n    visible,\n    onCancel: hide,\n    onOk: submit,\n    onFinish,\n  };\n\n  return { formModalProps, data, setData, isEdit, add, edit, hide, setLoading, formRef };\n};\n","export * from './layout'; // 页面布局\nexport * from './content'; // 页面内容\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"interval\":\"interval--1F7HL\",\"left\":\"left--244MW\",\"right\":\"right--24sWO\",\"header\":\"header--2_IpJ\",\"logo\":\"logo--3q5z8\",\"userName\":\"userName--1_RVV\",\"hidden\":\"hidden--153Jq\",\"showHeader\":\"showHeader--10xPC\",\"sider\":\"sider--AZb7J\",\"menuIcon\":\"menuIcon--2Elif\",\"content\":\"content--3cBmi\"};","import qs from 'qs';\n\nconst { search, protocol } = window.location;\n\n/**\n * 是否生产环境\n */\nexport const isProduction = protocol === 'https:';\n\n/**\n * 链接参数\n * http://localhost?val=1 => params = {val: 1}\n */\nexport const params = qs.parse(search.slice(1));\n","import { TFetchRequestConfig } from '@dyb881/fetch-request';\nimport { isProduction, params } from './public';\nimport { message } from 'antd';\n\n// ------------------------------- 请求器配置 --------------------------------- //\n\n/**\n * 生产地址\n */\nexport let host = 'https://www.test.com';\n\n/**\n * 测试地址\n */\nconst hostTest = 'http://www.test.com';\n\n/**\n * 会根据 isProduction 自行变动，需要配置对应的生产和测试地址\n * 测试环境下链接参数 params.host 可强制变更 host\n */\nif (!isProduction) {\n  host = params.host || hostTest;\n}\n\n/**\n * 请求参数配置\n */\nexport const requestConfig: TFetchRequestConfig = {\n  host, // API 地址\n  apiPath: '/api', // API 目录\n  interceptorsResponse: (res, _config) => {\n    res.ok || message.error(res.errorText);\n    return res;\n  },\n};\n\n// ------------------------------- 响应处理配置 --------------------------------- //\n\n/**\n * 状态码 key\n * 返回结果中，用于匹配状态码的 key\n */\nexport const statusCodeKeys = ['code', 'status'];\n\n/**\n * 成功状态码\n * 决定请求器响应结果 res.ok:boolean 返回的值\n */\nexport const successCodes = [0, '0', 200, '0000', 1000, 1001, 1002, 1003, 1004, 1005, 2000];\n\n/**\n * 错误信息字段\n */\nexport const messageKeys = ['msg', 'message', 'Message'];\n","import React from 'react';\nimport { UserOutlined, TeamOutlined, UnorderedListOutlined, FolderFilled, SettingOutlined } from '@ant-design/icons';\nimport { TMenuNavData } from 'components';\n\n/**\n * 左侧导航数据和标题数据\n * 除了菜单导航数据外，path 是相对 /src/pages 引用文件的路径\n */\nexport const menuNavData: TMenuNavData[] = [\n  {\n    icon: <UserOutlined />,\n    title: '管理员',\n    children: [\n      {\n        to: '/admin/account',\n        title: '管理员账号',\n        children: [\n          { to: '/admin/account/info', title: '新建管理员账号', hidden: true },\n          { to: '/admin/account/info/:id', title: '编辑管理员账号', hidden: true },\n        ],\n      },\n      { to: '/admin/role', title: '管理员角色' },\n    ],\n  },\n  {\n    icon: <TeamOutlined />,\n    title: '用户中心',\n    children: [{ title: '用户账号' }, { title: '用户角色' }],\n  },\n  {\n    icon: <UnorderedListOutlined />,\n    title: '栏目管理',\n    children: [{ title: '栏目分类' }, { title: '栏目列表' }],\n  },\n  {\n    icon: <FolderFilled />,\n    title: '文件管理',\n    children: [{ title: '图片' }, { title: '视频' }, { title: '音频' }, { title: '其他' }],\n  },\n  {\n    icon: <SettingOutlined />,\n    title: '系统设置',\n    children: [{ title: '站点配置' }, { title: '文件配置' }, { title: '自定义配置' }, { title: '系统日志' }],\n  },\n];\n","/**\n * 导出必须文件\n * 注意循环引用导致的代码运行报错\n */\nexport * from './public'; // 公用配置\nexport * from './request'; // 请求配置\nexport * from './routers'; // 路由配置\n\nexport * from './menuNavData'; // 菜单导航数据\n","/**\n * 导出必须文件\n * 注意循环引用导致的代码运行报错\n */\nexport * from './request'; // 请求器\nexport * from './stores'; // 状态管理\nexport * from './routers'; // 导出路由\nexport * from './tool'; // 导出工具函数\nexport * from './types'; // 导出常用类型\n\nexport * from './antd'; // 导出二次封装组件\n","var map = {\n\t\"./admin/account\": 122,\n\t\"./admin/account/\": 122,\n\t\"./admin/account/config\": 56,\n\t\"./admin/account/config.tsx\": 56,\n\t\"./admin/account/index\": 122,\n\t\"./admin/account/index.tsx\": 122,\n\t\"./admin/account/info\": 218,\n\t\"./admin/account/info.tsx\": 218,\n\t\"./admin/account/info_modal\": 126,\n\t\"./admin/account/info_modal.tsx\": 126,\n\t\"./admin/role\": 123,\n\t\"./admin/role/\": 123,\n\t\"./admin/role/index\": 123,\n\t\"./admin/role/index.tsx\": 123\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 432;","import React from 'react';\nimport { hot } from 'react-hot-loader/root';\nimport { Router, Pages } from 'common/routers'; // 直接引用 common 会导致循环引用，build 后运行报错\nimport { LayoutBox } from 'components';\nimport 'common/style'; // 默认全局样式\n\n/**\n * Router 用于注册基础路由\n * Pages 路由页面集合\n */\nconst App = () => (\n  <Router>\n    <LayoutBox>\n      <Pages />\n    </LayoutBox>\n  </Router>\n);\n\n// 热更新\nexport default process.env.NODE_ENV === 'development' ? hot(App) : App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(\n      process.env.PUBLIC_URL,\n      window.location.href\n    );\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","import React from 'react';\nimport { Badge } from 'antd';\nimport { Link } from 'react-router-dom';\nimport { TableProps } from 'antd/es/table';\nimport { Action, TInfoModalEdit } from 'components';\n\n/**\n * 生成表格配置数据\n */\nexport const createColumns = (edit: TInfoModalEdit) => {\n  const columns: TableProps<any>['columns'] = [\n    { title: '用户名', dataIndex: 'username', fixed: 'left', width: 120 },\n    { title: '昵称', dataIndex: 'nickname', width: 160 },\n    { title: '角色', dataIndex: 'role', render: v => options.role[v], width: 120 },\n    { title: '注册IP', dataIndex: 'regip', width: 160 },\n    { title: '登陆IP', dataIndex: 'loginip', width: 160 },\n    { title: '注册时间', dataIndex: 'regtime', width: 180 },\n    { title: '登陆时间', dataIndex: 'logintime', width: 180 },\n    { title: '状态', dataIndex: 'state', width: 100, fixed: 'right', render: v => renders.state[v] },\n    {\n      title: '操作',\n      key: 'action',\n      width: 180,\n      fixed: 'right',\n      render: data => (\n        <Action>\n          <span className=\"edit pointer\" onClick={() => edit(data)}>\n            弹窗编辑\n          </span>\n          <Link to={`/admin/account/info/${data.id}`} className=\"edit\">\n            编辑\n          </Link>\n          <span className=\"delete pointer\">删除</span>\n        </Action>\n      ),\n    },\n  ];\n\n  return columns;\n};\n\nexport const options = {\n  role: ['超级管理员', '编辑员'],\n  state: ['未审核', '已审核', '冻结'],\n};\n\nexport const renders = {\n  state: [\n    <Badge status=\"default\" text=\"未审核\" />,\n    <Badge status=\"success\" text=\"已审核\" />,\n    <Badge status=\"processing\" text=\"冻结\" />,\n  ],\n};\n","import React from 'react';\n\n/**\n * 选项值\n */\nexport type TOption<T = any> = { value: T; label: React.ReactNode };\n\n/**\n * 可被转为选项值\n */\nexport type TOptions<T = TOption> = T[] | (string | number)[] | object;\n\n/**\n * 选项值 Props\n */\nexport type TOptionsProps<T = TOption> = {\n  options?: TOptions<T>;\n};\n\n/**\n * 转为选项值\n * ['v1','v2'] => [{value: 1, label: 'v1'}, {value: 2, label: 'v2'}]\n */\nexport const toOptions = (options: TOptions) => {\n  const isArray = Array.isArray(options);\n  return Object.keys(options).map(k => {\n    const option = (options as any)[k];\n    if (typeof option === 'object') return option;\n    return { label: option, value: isArray ? +k : k };\n  });\n};\n\n/**\n * 判断是否有效 react 组件\n */\nexport const isElement = (e: any): e is JSX.Element => {\n  return React.isValidElement(e);\n};\n\n/**\n * 仿 class state 的 hooks\n * 新状态会合并到原状态\n */\nexport const useStates = <T extends any>(defaultStates: T) => {\n  const reducer = (states: T, newStates: Partial<T> & { [key: string]: any }) => ({ ...states, ...newStates });\n  const [states, setStates] = React.useReducer(reducer, defaultStates);\n  return { states, setStates };\n};\n","import { post, get } from 'common';\n\n/**\n * 对应模块下有多个接口\n * 当模块太多的时候可以分类拓展出多个文件并从该文件导出\n */\nexport const admin = {\n  account: {\n    getList: (data: any) => get('/admin/account', data, '获取管理员账号列表'),\n    details: (id: string) => get('/admin/account/details', { id }, '获取管理员账号详情'),\n    edit: (data: any) => post('/admin/account/edit', data, '编辑管理员账号'),\n    add: (data: any) => post('/admin/account/add', data, '添加管理员账号'),\n  },\n};\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"formSearch\":\"formSearch--2eZkH\",\"pagination\":\"pagination--GjJzw\",\"columnsSetting\":\"columnsSetting--3DrIc\",\"virtualColumn\":\"virtualColumn--1h8SX\"};"],"sourceRoot":""}